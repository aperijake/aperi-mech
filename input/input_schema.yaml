##### General #####
file: &file
  file:
    type: string
    description: the file to write
    subitems: null

time_start: &time_start
  time_start:
    type: float
    description: the start time
    subitems: null

time_end: &time_end
  time_end:
    type: float
    description: the end time
    subitems: null

time_increment: &time_increment
  time_increment:
    type: float
    description: the time increment
    subitems: null

set: &set
  set:
    type: string
    description: the name of the set
    subitems: null

magnitude: &magnitude
  magnitude:
    type: float
    description: the magnitude of the velocity
    subitems: null

direction: &direction
  direction:
    type: double_list
    description: the direction of the velocity
    subitems: null

##### Time Stepper #####
direct_time_stepper: &direct_time_stepper
  direct_time_stepper:
    type: node
    description: the direct time stepper
    subitems:
      - all_of: [*time_increment, *time_end]

time_stepper: &time_stepper
  time_stepper:
    type: node
    description: the time stepper
    subitems:
      - one_of: [*direct_time_stepper]

##### Output #####
output: &output
  output:
    type: node
    description: the output
    subitems:
      - all_of: [*file, *time_end, *time_increment]
      - optional: [*time_start]

##### Loads #####
gravity_load: &gravity_load
  gravity_load:
    type: node
    description: the gravity load
    subitems:
      - all_of: [*set, *magnitude, *direction]

loads: &loads
  loads:
    type: node
    description: the loads
    subitems:
      - optional: [*gravity_load]

##### Initial Conditions #####
velocity: &velocity
  velocity:
    type: node
    description: the velocity
    subitems:
      - all_of: [*set, *magnitude, *direction]

initial_conditions: &initial_conditions
  initial_conditions:
    type: node
    description: the initial conditions
    subitems:
      - optional: [*velocity]

##### Materials #####
density: &density
  density:
    type: float
    description: the density
    subitems: null

youngs_modulus: &youngs_modulus
  youngs_modulus:
    type: float
    description: the youngs modulus
    subitems: null

poissons_ratio: &poissons_ratio
  poissons_ratio:
    type: float
    description: the poissons ratio
    subitems: null

elastic: &elastic
  elastic:
    type: node
    description: the elastic material properties
    subitems:
      - all_of: [*density, *youngs_modulus, *poissons_ratio]

material: &material
  material:
    type: node
    description: the material
    subitems:
      - one_of: [*elastic]

##### Geometry #####
part: &part
  part:
    type: node
    description: a part
    subitems:
      - all_of: [*set, *material]

parts: &parts
  parts:
    type: node
    description: the list of parts
    subitems:
      - one_or_more_of: [*part]

mesh: &mesh
  mesh:
    type: string
    description: the file containing the mesh
    subitems: null

geometry: &geometry
  geometry:
    type: node
    description: the section describing the geometry
    subitems:
      - all_of: [*mesh, *parts]

##### Procedures #####
explicit_dynamics_procedure: &explicit_dynamics_procedure
  explicit_dynamics_procedure:
    type: node
    description: an explicit dynamics procedure
    subitems:
      - all_of: [*geometry, *time_stepper, *output]
      - optional: [*initial_conditions, *loads]

procedures:
  type: node
  description: list of procedure to complete in the analysis
  subitems:
    - one_or_more_of: [*explicit_dynamics_procedure]
